# MySQL 架构设计

****

MySQL 架构可以分为 Server层 和 Engine层两部分：

![](https://lys2021.com/wp-content/uploads/2024/10/image-20211224153313270.png)

****

## Server 层

****

### 连接器

****

Mysql作为服务器，一个客户端的 Sql 连接过来就需要分配一个线程进行处理，这个线程会专门负责监听请求并读取数据。

这部分的线程和连接管理都是有一个连接器，专门负责跟客户端建立连接、权限认证、维持和管理连接。

![](https://lys2021.com/wp-content/uploads/2024/10/image-20211224151534088.png)

**注意**：

- 多个系统都可以和`MySQL`服务器建立连接
- 因此每个系统建立的连接肯定不止一个

为了解决 TCP 无限创建与 TCP 频繁创建销毁带来的资源耗尽、性能下降问题：

- MySQL服务器里有专门的 TCP 连接池限制接数，采用长连接模式复用 TCP 连接，来解决上述问题
- TCP连接收到请求后，必须要分配给一个线程去执行，所以还会有个线程池，去走后面的流程

****